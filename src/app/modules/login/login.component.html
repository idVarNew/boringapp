<span *ngIf="isLogIn"> You are logged in </span>
<ng-container *ngIf="!isLogIn">
  <h1 class="login-title">
    <ng-container *ngIf="!visible">Log In</ng-container>
    <ng-container *ngIf="visible">Create an account</ng-container>
  </h1>


  <form [formGroup]="loginForm">
    <div class="form-group">
      <label for="login-form-email">Email</label>
      <input
        class="form-control"
        id="login-form-email"
        placeholder="myemail@email.com"
        name="email"
        formControlName="email"
        autocomplete="email"
        email
        required
      />
      <div *ngIf="emailControl.invalid && (emailControl.dirty || emailControl.touched)" class="alert alert-danger">
        <div *ngIf="emailControl.errors.required">Email is required</div>
        <div *ngIf="emailControl.errors.email">Please provide valid email</div>
      </div>
    </div>
    <div class="form-group">
      <label for="login-form-password">Password</label>
      <input
        class="form-control"
        id="login-form-password"
        placeholder="Password"
        name="password"
        autocomplete="password"
        formControlName="password"
        type="password"
        required
      />
    </div>
    <div
      *ngIf="passwordControl.invalid && (passwordControl.dirty || passwordControl.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="passwordControl.errors.required">Email is required</div>
    </div>

    <p *ngIf="messageError" class="alert alert-danger">{{ messageError }}</p>

    <div>
      <button
        *ngIf="!visible"
        [disabled]="loginForm.invalid"
        type="submit"
        class="btn btn-info btn-lg"
        (click)="signIn()"
      >
        Log in   <span *ngIf="spinner" class="spinner"> <i class="fas fa-spinner"></i></span>
      </button>
    
      <button
        *ngIf="visible"
        [disabled]="loginForm.invalid"
        type="submit"
        class="btn btn-info btn-lg"
        (click)="signUp()"
      >
        Create an account   <span  *ngIf="spinner" class="spinner"> <i class="fas fa-spinner"></i></span>
      </button> 
    </div>
  </form>

  

  <div class="sub-options">
    <button *ngIf="visible" class="btn btn-link btn-mdf p-0" (click)="resetMessage(); visible = !visible">
      Log in
    </button>

    <button *ngIf="!visible" class="btn btn-link btn-mdf p-0" (click)="resetMessage(); visible = !visible">
      Create an account
    </button>

    <a class="btn btn-link btn-mdf pl-2" routerLink="/forgot-password"> Forgot passoword </a>
  </div>
</ng-container>
